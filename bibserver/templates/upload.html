{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="span6 hero-unit">
        <form action="/upload" method="POST" enctype="multipart/form-data">
        
            <h2>Upload your records <small>from a BibJSON file</small></h2>
            <br /><br />
            <span class="upload_label">upload from URL:</span> <input class="sourcefile" type="text" name="source" /><br />

            <span class="upload_label">OR file upload from PC:</span> <input class="sourcefile" type="file" name="upfile" /><br />

            <br /><span class="upload_label">add to collection:</span> <select name="collection" id="collection">
            <option value="">No thanks, just upload the records</option>
            <!--<option value="NEW">Hmm, make me a new collection to upload them to</option>
            <option value="">------------------------------</option>-->
            {% for coll in current_user.collections(size=10000) %}
                <option value="{{coll.id}}">{{coll.name}}</option>
            {% endfor %}
            </select>

            <small><br>If you don't see the collection you want, <a href="/create">go and create one first</a>.<br>Then come back and upload your new records.<br></small>

            <br /><br />
            <span class="upload_label"></span> <input class="btn btn-primary large" type="submit" name="submit" value="upload" />
            
        </form>
    </div>
    
            
    <div class="span4" style="padding-top:55px;">
        <h2>More information</h2>
        <p>We use the <a target="_blank" href="http://bibjson.org">BibJSON</a> conventions for storing and sharing bibliographic references, 
        so in order to upload records, you need a JSON file containing records that meet those conventions.</p>
        
        <p>ONLINE CONVERSION SERVICES FROM POPULAR BIBLIOGRAPHIC FORMATS ARE COMING SOON.</p>
        <!--
        <p>If you do not want to manually create such a file, you can use an 
        <a href="#">online conversion service</a> to do it for you.</p>
        -->
        
        <p>Once you have a suitable file, either place it online somewhere and note 
        down the URL address, or store it on your own PC; then you can use it as your source file.</p>
        
        <p>Your uploaded records can be automatically added to one of your collections, 
        so that you will see your records appear in that collection as they are processed.</p>
        
        <!--<p>You will receive an email once the processing is complete.</p>-->
                
    </div>
</div>
{% endblock %}

